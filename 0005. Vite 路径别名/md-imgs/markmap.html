<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.2/dist/browser/index.js"></script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"0005. Vite 路径别名","children":[{"content":"markmap","children":[{"content":"<img src=\"md-imgs/markmap.png\" alt=\"\">","children":[]}],"payload":{"lines":"4,5"}},{"content":"📝 summary","children":[{"content":"类型别名是什么","children":[],"payload":{"lines":"10,11"}},{"content":"类型别名有什么用","children":[],"payload":{"lines":"11,12"}},{"content":"vite.config.ts 中的 alias 配置","children":[],"payload":{"lines":"12,13"}},{"content":"tsconfig.ts 中的 paths 配置","children":[],"payload":{"lines":"13,15"}}],"payload":{"lines":"8,9"}},{"content":"📒 notes - 认识路径别名","children":[{"content":"路径别名是什么","children":[],"payload":{"lines":"17,18"}},{"content":"路径别名有啥用","children":[{"content":"<pre><code class=\"language-typescript\"><span class=\"hljs-comment\">// your-project-root</span>\n<span class=\"hljs-comment\">// ├── src</span>\n<span class=\"hljs-comment\">// │   ├── App.vue</span>\n<span class=\"hljs-comment\">// │   ├── main.ts</span>\n<span class=\"hljs-comment\">// │   ├── a.ts</span>\n<span class=\"hljs-comment\">// │   └── components</span>\n<span class=\"hljs-comment\">// |       └── A</span>\n<span class=\"hljs-comment\">// |           ├── A.vue</span>\n\n\n<span class=\"hljs-comment\">// 比如你现在要在 A.vue 中引入 a.ts</span>\n<span class=\"hljs-comment\">// 使用相对路径的写法：</span>\n<span class=\"hljs-keyword\">import</span> a <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'../../a'</span>\n<span class=\"hljs-comment\">// 使用路径别名的写法：</span>\n<span class=\"hljs-keyword\">import</span> a <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@/a'</span>\n</code></pre>","children":[]}],"payload":{"lines":"29,30"}}],"payload":{"lines":"15,16"}},{"content":"💻 demo","children":[{"content":"最终效果","children":[{"content":"<pre><code class=\"language-typescript\"><span class=\"hljs-comment\">// 需要实现的效果</span>\n<span class=\"hljs-comment\">// @/xxxx =&gt; src/xxxx</span>\n<span class=\"hljs-comment\">// #/xxxx =&gt; types/xxxx</span>\n\n<span class=\"hljs-comment\">// 比如，在 main.ts 中使用下面的写法是等效的。</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">App</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@/App.vue'</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">App</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./App.vue'</span>\n\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'@/style.css'</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">'./style.css'</span>\n\n<span class=\"hljs-comment\">// 比如，在 App.vue 中，使用下面的写法是等效的。</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">HelloWorld</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@/components/HelloWorld.vue'</span>\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-title class_\">HelloWorld</span> <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'./components/HelloWorld.vue'</span>\n</code></pre>","children":[]},{"content":"<img src=\"md-imgs/2024-10-17-21-42-38.png\" alt=\"\">","children":[]}],"payload":{"lines":"62,63"}},{"content":"实现步骤","children":[{"content":"配置 vite.config.ts 的 alias","children":[{"content":"<pre><code class=\"language-typescript\"><span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span>\n\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">plugins</span>: [<span class=\"hljs-title function_\">vue</span>()],\n  <span class=\"hljs-attr\">resolve</span>: {\n    <span class=\"hljs-attr\">alias</span>: [\n      { <span class=\"hljs-attr\">find</span>: <span class=\"hljs-string\">'路径别名'</span>, <span class=\"hljs-attr\">replacement</span>: <span class=\"hljs-string\">'等效的目标位置'</span> },\n    ],\n  },\n})\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-typescript\"><span class=\"hljs-keyword\">import</span> { defineConfig } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'vite'</span>\n<span class=\"hljs-keyword\">import</span> vue <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'@vitejs/plugin-vue'</span>\n<span class=\"hljs-keyword\">import</span> { resolve } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">'node:path'</span>\n\n<span class=\"hljs-keyword\">const</span> <span class=\"hljs-title function_\">pathResolve</span> = (<span class=\"hljs-params\"><span class=\"hljs-attr\">dir</span>: <span class=\"hljs-built_in\">string</span></span>) =&gt; <span class=\"hljs-title function_\">resolve</span>(process.<span class=\"hljs-title function_\">cwd</span>(), <span class=\"hljs-string\">'.'</span>, dir)\n\n<span class=\"hljs-comment\">// https://vitejs.dev/config/</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-title function_\">defineConfig</span>({\n  <span class=\"hljs-attr\">plugins</span>: [<span class=\"hljs-title function_\">vue</span>()],\n  <span class=\"hljs-attr\">resolve</span>: {\n    <span class=\"hljs-attr\">alias</span>: [\n      { <span class=\"hljs-attr\">find</span>: <span class=\"hljs-regexp\">/@\\//</span>, <span class=\"hljs-attr\">replacement</span>: <span class=\"hljs-title function_\">pathResolve</span>(<span class=\"hljs-string\">'src'</span>) + <span class=\"hljs-string\">'/'</span> }, <span class=\"hljs-comment\">// @/xxxx =&gt; src/xxxx</span>\n      { <span class=\"hljs-attr\">find</span>: <span class=\"hljs-regexp\">/#\\//</span>, <span class=\"hljs-attr\">replacement</span>: <span class=\"hljs-title function_\">pathResolve</span>(<span class=\"hljs-string\">'types'</span>) + <span class=\"hljs-string\">'/'</span> }, <span class=\"hljs-comment\">// #/xxxx =&gt; types/xxxx</span>\n    ],\n  },\n})\n</code></pre>","children":[]}],"payload":{"lines":"85,86"}},{"content":"配置 tsconfig.app.json 的","children":[{"content":"<pre><code class=\"language-json\"><span class=\"hljs-punctuation\">{</span>\n  <span class=\"hljs-attr\">\"compilerOptions\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n    <span class=\"hljs-comment\">// ...</span>\n    <span class=\"hljs-attr\">\"baseUrl\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-string\">\".\"</span><span class=\"hljs-punctuation\">,</span>\n    <span class=\"hljs-attr\">\"paths\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">{</span>\n      <span class=\"hljs-attr\">\"@/*\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span> <span class=\"hljs-string\">\"src/*\"</span> <span class=\"hljs-punctuation\">]</span><span class=\"hljs-punctuation\">,</span>\n      <span class=\"hljs-attr\">\"#/*\"</span><span class=\"hljs-punctuation\">:</span> <span class=\"hljs-punctuation\">[</span> <span class=\"hljs-string\">\"types/*\"</span> <span class=\"hljs-punctuation\">]</span>\n    <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-punctuation\">}</span><span class=\"hljs-punctuation\">,</span>\n  <span class=\"hljs-comment\">// ...</span>\n<span class=\"hljs-punctuation\">}</span>\n</code></pre>","children":[]}],"payload":{"lines":"122,123"}},{"content":"注意缓存问题","children":[],"payload":{"lines":"141,142"}},{"content":"测试","children":[{"content":"<pre><code class=\"language-typescript\"><span class=\"hljs-comment\">// src/a/b.ts</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-string\">'b'</span>\n\n<span class=\"hljs-comment\">// types/sum.d.ts</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">interface</span> sum {\n  (<span class=\"hljs-attr\">n1</span>: <span class=\"hljs-built_in\">number</span>, <span class=\"hljs-attr\">n2</span>: <span class=\"hljs-built_in\">number</span>): <span class=\"hljs-built_in\">number</span>\n}\n</code></pre>","children":[]},{"content":"<img src=\"md-imgs/2024-10-17-21-42-52.png\" alt=\"\">","children":[]},{"content":"<img src=\"md-imgs/2024-10-17-21-42-58.png\" alt=\"\">","children":[]}],"payload":{"lines":"144,145"}}],"payload":{"lines":"84,85"}}],"payload":{"lines":"57,58"}}],"payload":{"lines":"0,1"}},{"maxWidth":400,"colorFreezeLevel":2,"duration":0,"spacingVertical":20})</script>
</body>
</html>

<style>
body,
#mindmap {
  width: 1920px;
  height: 1080px;
}
</style>
