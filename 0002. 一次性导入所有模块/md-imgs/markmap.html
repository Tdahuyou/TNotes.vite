<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>Markmap</title>
<style>
* {
  margin: 0;
  padding: 0;
}
#mindmap {
  display: block;
  width: 100vw;
  height: 100vh;
}
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets@11.8.0/styles/default.min.css">
</head>
<body>
<svg id="mindmap"></svg>
<script src="https://cdn.jsdelivr.net/npm/d3@7.8.5/dist/d3.min.js"></script><script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.2/dist/browser/index.js"></script><script>((getMarkmap, getOptions, root2, jsonOptions) => {
              const markmap = getMarkmap();
              window.mm = markmap.Markmap.create(
                "svg#mindmap",
                (getOptions || markmap.deriveOptions)(jsonOptions),
                root2
              );
            })(() => window.markmap,null,{"content":"0002. 一次性导入所有模块","children":[{"content":"markmap","children":[{"content":"<img src=\"md-imgs/markmap.png\" alt=\"\">","children":[]}],"payload":{"lines":"2,3"}},{"content":"📝 summary","children":[{"content":"本文内容：介绍 <code>import.meta.glob</code> 的基本使用","children":[],"payload":{"lines":"8,10"}}],"payload":{"lines":"6,7"}},{"content":"🔗 links","children":[{"content":"https://vitejs.dev/guide/features.html#glob-import","children":[{"content":"vite 官方文档 -- Vite，Features，Glob Import","children":[],"payload":{"lines":"13,15"}}],"payload":{"lines":"12,15"}}],"payload":{"lines":"10,11"}},{"content":"📒 notes - <code>import.meta.glob</code> 的一些常见用法","children":[{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">glob</span>(<span class=\"hljs-string\">'./modules/*.ts'</span>, { <span class=\"hljs-attr\">eager</span>: <span class=\"hljs-literal\">true</span> })\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">glob</span>(\n  [<span class=\"hljs-string\">'./modules-1/*.ts'</span>, <span class=\"hljs-string\">'./modules-2/*.ts'</span>,],\n  { <span class=\"hljs-attr\">eager</span>: <span class=\"hljs-literal\">true</span> }\n)\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">glob</span>(\n  [<span class=\"hljs-string\">'./modules-1/**/*.ts'</span>, <span class=\"hljs-string\">'./modules-2/*.ts'</span>,],\n  { <span class=\"hljs-attr\">eager</span>: <span class=\"hljs-literal\">true</span> }\n)\n<span class=\"hljs-comment\">// ./modules-1/**/*.ts</span>\n<span class=\"hljs-comment\">// 这么写意味着从 modules-1 中导入所有所有模块</span>\n<span class=\"hljs-comment\">// 包括那些嵌套的模块也会被导入</span>\n\n<span class=\"hljs-comment\">// ./modules-2/*.ts</span>\n<span class=\"hljs-comment\">// 这么写意味着仅导入一层</span>\n<span class=\"hljs-comment\">// 不包括嵌套的模块</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">glob</span>(\n  [<span class=\"hljs-string\">'./modules-1/**/*.{json,ts,js}'</span>, <span class=\"hljs-string\">'./modules-2/*.ts'</span>,],\n  { <span class=\"hljs-attr\">eager</span>: <span class=\"hljs-literal\">true</span> }\n)\n<span class=\"hljs-comment\">// './modules-1/**/*.{json,ts,js}'</span>\n<span class=\"hljs-comment\">// 导入 modules-1 目录下的所有模块</span>\n<span class=\"hljs-comment\">// 包括嵌套模块</span>\n<span class=\"hljs-comment\">// 这些模块以 json 或 ts 或 js 为后缀</span>\n</code></pre>","children":[]}],"payload":{"lines":"15,16"}},{"content":"📒 notes - 理解语法糖 <code>import.meta.glob</code> 的基本原理","children":[{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">glob</span>(<span class=\"hljs-string\">'./modules/*.ts'</span>, { <span class=\"hljs-attr\">eager</span>: <span class=\"hljs-literal\">true</span> })\n\n<span class=\"hljs-comment\">// 假设目录结构如下</span>\n<span class=\"hljs-comment\">// ├── App.vue # 在 App.vue 中导入 modules 下的所有模块</span>\n<span class=\"hljs-comment\">// ├── main.ts</span>\n<span class=\"hljs-comment\">// ├── modules</span>\n<span class=\"hljs-comment\">// │   ├── 1.ts</span>\n<span class=\"hljs-comment\">// │   ├── 2.ts</span>\n<span class=\"hljs-comment\">// │   └── 3.ts</span>\n<span class=\"hljs-comment\">// └── vite-env.d.ts</span>\n\n<span class=\"hljs-comment\">// 经过 vite 编译后，生成的结果如下。</span>\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_0 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/1.ts\"</span>;\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_1 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/2.ts\"</span>;\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_2 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/3.ts\"</span>;\n\n<span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">assign</span>({\n  <span class=\"hljs-string\">\"./modules/1.ts\"</span>: __vite_glob_0_0,\n  <span class=\"hljs-string\">\"./modules/2.ts\"</span>: __vite_glob_0_1,\n  <span class=\"hljs-string\">\"./modules/3.ts\"</span>: __vite_glob_0_2\n});\n\n<span class=\"hljs-comment\">// 相当于一个语法糖</span>\n<span class=\"hljs-comment\">// 将所有的模块一次性导入</span>\n<span class=\"hljs-comment\">// 然后以模块的相对路径为 key</span>\n<span class=\"hljs-comment\">// 模块导出的内容为 val</span>\n<span class=\"hljs-comment\">// 形成一个对象返回</span>\n</code></pre>","children":[]}],"payload":{"lines":"61,62"}},{"content":"💻 demo1 - 导入 modules 中的所有 .ts 文件","children":[{"content":"<pre><code class=\"language-bash\">$ tree\n.\n├── App.vue <span class=\"hljs-comment\"># 在 App.vue 中导入 modules 下的所有模块</span>\n├── main.ts\n├── modules\n│   ├── 1.ts\n│   ├── 2.ts\n│   └── 3.ts\n└── vite-env.d.ts\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-comment\">// src/modules/1.ts</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> a = <span class=\"hljs-number\">1</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-number\">1</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-comment\">// src/modules/2.ts</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> b = <span class=\"hljs-number\">2</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-number\">2</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-comment\">// src/modules/3.ts</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">const</span> c = <span class=\"hljs-number\">3</span>\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-number\">3</span>\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-vue\">&lt;!-- src/App.vue --&gt;\n&lt;script setup lang=\"ts\"&gt;\nconst modules = import.meta.glob('./modules/*.ts', { eager: true }) as Record&lt;string, any&gt;\nconsole.log(modules)\n// {\n//     \"./modules/1.ts\": {\n//         \"a\": 1,\n//         \"default\": 1\n//     },\n//     \"./modules/2.ts\": {\n//         \"b\": 2,\n//         \"default\": 2\n//     },\n//     \"./modules/3.ts\": {\n//         \"c\": 3,\n//         \"default\": 3\n//     }\n// }\n\nconst myModules: any[] = []\nObject.keys(modules).forEach((key) =&gt; {\n  console.log(key)\n  // ./modules/1.ts\n  // ./modules/2.ts\n  // ./modules/3.ts\n\n  myModules.push(modules[key].default)\n})\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;h1&gt;modules&lt;/h1&gt;\n  &lt;h2&gt;{{ myModules }}&lt;/h2&gt;\n&lt;/template&gt;\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-title function_\">glob</span>(<span class=\"hljs-string\">'./modules/*.ts'</span>, { <span class=\"hljs-attr\">eager</span>: <span class=\"hljs-literal\">true</span> })\n<span class=\"hljs-comment\">// 经过 vite 编译后，生成的结果如下。</span>\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_0 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/1.ts\"</span>;\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_1 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/2.ts\"</span>;\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_2 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/3.ts\"</span>;\n\n<span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">assign</span>({\n  <span class=\"hljs-string\">\"./modules/1.ts\"</span>: __vite_glob_0_0,\n  <span class=\"hljs-string\">\"./modules/2.ts\"</span>: __vite_glob_0_1,\n  <span class=\"hljs-string\">\"./modules/3.ts\"</span>: __vite_glob_0_2\n});\n\n<span class=\"hljs-comment\">// 相当于一个语法糖</span>\n<span class=\"hljs-comment\">// 将所有的模块一次性导入</span>\n<span class=\"hljs-comment\">// 然后以模块的相对路径为 key</span>\n<span class=\"hljs-comment\">// 模块导出的内容为 val</span>\n<span class=\"hljs-comment\">// 形成一个对象返回</span>\n</code></pre>","children":[]},{"content":"<img src=\"md-imgs/2024-10-16-23-02-30.png\" alt=\"\">","children":[]},{"content":"<pre><code class=\"language-ts\"><span class=\"hljs-comment\">// App.vue（编译结果）</span>\n<span class=\"hljs-keyword\">import</span> { createHotContext <span class=\"hljs-keyword\">as</span> __vite__createHotContext } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/@vite/client\"</span>;<span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-property\">hot</span> = <span class=\"hljs-title function_\">__vite__createHotContext</span>(<span class=\"hljs-string\">\"/src/App.vue\"</span>);\n\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_0 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/1.ts\"</span>;\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_1 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/2.ts\"</span>;\n<span class=\"hljs-keyword\">import</span> * <span class=\"hljs-keyword\">as</span> __vite_glob_0_2 <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/src/modules/3.ts\"</span>;\n\n<span class=\"hljs-keyword\">import</span> { defineComponent <span class=\"hljs-keyword\">as</span> _defineComponent } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/node_modules/.vite/deps/vue.js?v=253a17f3\"</span>;\n<span class=\"hljs-keyword\">const</span> _sfc_main = <span class=\"hljs-comment\">/* @__PURE__ */</span> <span class=\"hljs-title function_\">_defineComponent</span>({\n  <span class=\"hljs-attr\">__name</span>: <span class=\"hljs-string\">\"App\"</span>,\n  <span class=\"hljs-title function_\">setup</span>(<span class=\"hljs-params\">__props, { expose: __expose }</span>) {\n    <span class=\"hljs-title function_\">__expose</span>();\n    <span class=\"hljs-keyword\">const</span> modules = <span class=\"hljs-comment\">/* #__PURE__ */</span>\n      <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">assign</span>({\n        <span class=\"hljs-string\">\"./modules/1.ts\"</span>: __vite_glob_0_0,\n        <span class=\"hljs-string\">\"./modules/2.ts\"</span>: __vite_glob_0_1,\n        <span class=\"hljs-string\">\"./modules/3.ts\"</span>: __vite_glob_0_2\n      });\n    <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(modules);\n    <span class=\"hljs-keyword\">const</span> myModules = [];\n    <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">keys</span>(modules).<span class=\"hljs-title function_\">forEach</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">key</span>) =&gt;</span> {\n      <span class=\"hljs-variable language_\">console</span>.<span class=\"hljs-title function_\">log</span>(key);\n      myModules.<span class=\"hljs-title function_\">push</span>(modules[key].<span class=\"hljs-property\">default</span>);\n    });\n    <span class=\"hljs-keyword\">const</span> __returned__ = { modules, myModules };\n    <span class=\"hljs-title class_\">Object</span>.<span class=\"hljs-title function_\">defineProperty</span>(__returned__, <span class=\"hljs-string\">\"__isScriptSetup\"</span>, { <span class=\"hljs-attr\">enumerable</span>: <span class=\"hljs-literal\">false</span>, <span class=\"hljs-attr\">value</span>: <span class=\"hljs-literal\">true</span> });\n    <span class=\"hljs-keyword\">return</span> __returned__;\n  }\n});\n<span class=\"hljs-keyword\">import</span> { createElementVNode <span class=\"hljs-keyword\">as</span> _createElementVNode, toDisplayString <span class=\"hljs-keyword\">as</span> _toDisplayString, <span class=\"hljs-title class_\">Fragment</span> <span class=\"hljs-keyword\">as</span> _Fragment, openBlock <span class=\"hljs-keyword\">as</span> _openBlock, createElementBlock <span class=\"hljs-keyword\">as</span> _createElementBlock } <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/node_modules/.vite/deps/vue.js?v=253a17f3\"</span>;\n<span class=\"hljs-keyword\">const</span> _hoisted_1 = <span class=\"hljs-comment\">/* @__PURE__ */</span> <span class=\"hljs-title function_\">_createElementVNode</span>(\n  <span class=\"hljs-string\">\"h1\"</span>,\n  <span class=\"hljs-literal\">null</span>,\n  <span class=\"hljs-string\">\"modules\"</span>,\n  -<span class=\"hljs-number\">1</span>\n  <span class=\"hljs-comment\">/* HOISTED */</span>\n);\n<span class=\"hljs-keyword\">function</span> <span class=\"hljs-title function_\">_sfc_render</span>(<span class=\"hljs-params\">_ctx, _cache, $props, $setup, $data, $options</span>) {\n  <span class=\"hljs-keyword\">return</span> <span class=\"hljs-title function_\">_openBlock</span>(), <span class=\"hljs-title function_\">_createElementBlock</span>(\n    _Fragment,\n    <span class=\"hljs-literal\">null</span>,\n    [\n      _hoisted_1,\n      <span class=\"hljs-title function_\">_createElementVNode</span>(<span class=\"hljs-string\">\"h2\"</span>, <span class=\"hljs-literal\">null</span>, <span class=\"hljs-title function_\">_toDisplayString</span>($setup.<span class=\"hljs-property\">myModules</span>))\n    ],\n    <span class=\"hljs-number\">64</span>\n    <span class=\"hljs-comment\">/* STABLE_FRAGMENT */</span>\n  );\n}\n_sfc_main.<span class=\"hljs-property\">__hmrId</span> = <span class=\"hljs-string\">\"7a7a37b1\"</span>;\n<span class=\"hljs-keyword\">typeof</span> __VUE_HMR_RUNTIME__ !== <span class=\"hljs-string\">\"undefined\"</span> &amp;&amp; __VUE_HMR_RUNTIME__.<span class=\"hljs-title function_\">createRecord</span>(_sfc_main.<span class=\"hljs-property\">__hmrId</span>, _sfc_main);\n<span class=\"hljs-keyword\">import</span>.<span class=\"hljs-property\">meta</span>.<span class=\"hljs-property\">hot</span>.<span class=\"hljs-title function_\">accept</span>(<span class=\"hljs-function\">(<span class=\"hljs-params\">mod</span>) =&gt;</span> {\n  <span class=\"hljs-keyword\">if</span> (!mod) <span class=\"hljs-keyword\">return</span>;\n  <span class=\"hljs-keyword\">const</span> { <span class=\"hljs-attr\">default</span>: updated, _rerender_only } = mod;\n  <span class=\"hljs-keyword\">if</span> (_rerender_only) {\n    __VUE_HMR_RUNTIME__.<span class=\"hljs-title function_\">rerender</span>(updated.<span class=\"hljs-property\">__hmrId</span>, updated.<span class=\"hljs-property\">render</span>);\n  } <span class=\"hljs-keyword\">else</span> {\n    __VUE_HMR_RUNTIME__.<span class=\"hljs-title function_\">reload</span>(updated.<span class=\"hljs-property\">__hmrId</span>, updated);\n  }\n});\n<span class=\"hljs-keyword\">import</span> _export_sfc <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">\"/@id/__x00__plugin-vue:export-helper\"</span>;\n<span class=\"hljs-keyword\">export</span> <span class=\"hljs-keyword\">default</span> <span class=\"hljs-comment\">/* @__PURE__ */</span> <span class=\"hljs-title function_\">_export_sfc</span>(_sfc_main, [[<span class=\"hljs-string\">\"render\"</span>, _sfc_render], [<span class=\"hljs-string\">\"__file\"</span>, <span class=\"hljs-string\">\"/Users/huyouda/Desktop/vite-project/src/App.vue\"</span>]]);\n\n<span class=\"hljs-comment\">//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQSxVQUFNLFVBQVUsWUFBWSxLQUFLLGtCQUFrQixFQUFFLE9BQU8sS0FBSyxDQUFDO0FBQ2xFLFlBQVEsSUFBSSxPQUFPO0FBZ0JuQixVQUFNLFlBQW1CLENBQUM7QUFDMUIsV0FBTyxLQUFLLE9BQU8sRUFBRSxRQUFRLENBQUMsUUFBUTtBQUNwQyxjQUFRLElBQUksR0FBRztBQUtmLGdCQUFVLEtBQUssUUFBUSxHQUFHLEVBQUUsT0FBTztBQUFBLElBQ3JDLENBQUM7Ozs7Ozs7bUJBSUM7QUFBQSxFQUFnQjtBQUFBO0FBQUEsRUFBWjtBQUFBLEVBQU87QUFBQTtBQUFBOzt1QkE5QmI7QUFBQTtBQUFBO0FBQUE7QUFBQSxNQThCRTtBQUFBLE1BQ0Esb0JBQXdCLDZCQUFqQixnQkFBUztBQUFBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJBcHAudnVlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQgc2V0dXAgbGFuZz1cInRzXCI+XG5jb25zdCBtb2R1bGVzID0gaW1wb3J0Lm1ldGEuZ2xvYignLi9tb2R1bGVzLyoudHMnLCB7IGVhZ2VyOiB0cnVlIH0pIGFzIFJlY29yZDxzdHJpbmcsIGFueT5cbmNvbnNvbGUubG9nKG1vZHVsZXMpXG4vLyB7XG4vLyAgICAgXCIuL21vZHVsZXMvMS50c1wiOiB7XG4vLyAgICAgICAgIFwiYVwiOiAxLFxuLy8gICAgICAgICBcImRlZmF1bHRcIjogMVxuLy8gICAgIH0sXG4vLyAgICAgXCIuL21vZHVsZXMvMi50c1wiOiB7XG4vLyAgICAgICAgIFwiYlwiOiAxLFxuLy8gICAgICAgICBcImRlZmF1bHRcIjogMlxuLy8gICAgIH0sXG4vLyAgICAgXCIuL21vZHVsZXMvMy50c1wiOiB7XG4vLyAgICAgICAgIFwiY1wiOiAzLFxuLy8gICAgICAgICBcImRlZmF1bHRcIjogM1xuLy8gICAgIH1cbi8vIH1cblxuY29uc3QgbXlNb2R1bGVzOiBhbnlbXSA9IFtdXG5PYmplY3Qua2V5cyhtb2R1bGVzKS5mb3JFYWNoKChrZXkpID0+IHtcbiAgY29uc29sZS5sb2coa2V5KVxuICAvLyAuL21vZHVsZXMvMS50c1xuICAvLyAuL21vZHVsZXMvMi50c1xuICAvLyAuL21vZHVsZXMvMy50c1xuXG4gIG15TW9kdWxlcy5wdXNoKG1vZHVsZXNba2V5XS5kZWZhdWx0KVxufSlcbjwvc2NyaXB0PlxuXG48dGVtcGxhdGU+XG4gIDxoMT5tb2R1bGVzPC9oMT5cbiAgPGgyPnt7IG15TW9kdWxlcyB9fTwvaDI+XG48L3RlbXBsYXRlPlxuIl0sImZpbGUiOiIvVXNlcnMvaHV5b3VkYS9EZXNrdG9wL3ZpdGUtcHJvamVjdC9zcmMvQXBwLnZ1ZSJ9</span>\n</code></pre>","children":[]}],"payload":{"lines":"95,96"}},{"content":"💻 demo2 - 导入 modules-1 和 modules-2 中的所有 .ts 文件","children":[{"content":"<pre><code class=\"language-bash\">$ tree\n├── App.vue <span class=\"hljs-comment\"># 在 App.vue 中，捞出 modules-1 和 modules-2 中的所有 .ts 文件</span>\n├── main.ts\n├── modules-1\n│   ├── 1.ts\n│   ├── 2.ts\n│   └── 3.ts\n├── modules-2\n│   ├── 1.ts\n│   ├── 2.ts\n│   └── 3.ts\n└── vite-env.d.ts\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-vue\">&lt;!-- App.vue --&gt;\n&lt;script setup lang=\"ts\"&gt;\nconst modules = import.meta.glob(['./modules-1/*.ts', './modules-2/*.ts',], { eager: true }) as Record&lt;string, any&gt;\nconsole.log(modules)\n// {\n//     \"./modules-1/1.ts\": {\n//         \"a\": 1,\n//         \"default\": 1\n//     },\n//     \"./modules-1/2.ts\": {\n//         \"b\": 2,\n//         \"default\": 2\n//     },\n//     \"./modules-1/3.ts\": {\n//         \"c\": 3,\n//         \"default\": 3\n//     },\n//     \"./modules-2/1.ts\": {\n//         \"a\": 11,\n//         \"default\": 11\n//     },\n//     \"./modules-2/2.ts\": {\n//         \"b\": 22,\n//         \"default\": 22\n//     },\n//     \"./modules-2/3.ts\": {\n//         \"c\": 33,\n//         \"default\": 33\n//     }\n// }\n\nconst myModules: any[] = []\nObject.keys(modules).forEach((key) =&gt; {\n  console.log(key)\n  // ./modules-1/1.ts\n  // ./modules-1/2.ts\n  // ./modules-1/3.ts\n  // ./modules-2/1.ts\n  // ./modules-2/2.ts\n  // ./modules-2/3.ts\n\n\n  myModules.push(modules[key].default)\n})\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;h1&gt;modules&lt;/h1&gt;\n  &lt;h2&gt;{{ myModules }}&lt;/h2&gt;\n&lt;/template&gt;\n</code></pre>","children":[]}],"payload":{"lines":"264,265"}},{"content":"💻 demo3 - 递归导入","children":[{"content":"<pre><code class=\"language-bash\">$ tree\n├── App.vue <span class=\"hljs-comment\"># 导入所有 modules</span>\n├── main.ts\n├── modules-1\n│   ├── 1.ts\n│   ├── 2.ts\n│   ├── 3.ts\n│   ├── modules-1-1\n│   │   ├── 1.ts\n│   │   ├── 2.ts\n│   │   ├── 3.ts\n│   │   └── modules-1-1-1\n│   │       ├── 1.ts\n│   │       ├── 2.ts\n│   │       └── 3.ts\n│   └── modules-1-2\n│       ├── 1.ts\n│       ├── 2.ts\n│       └── 3.ts\n├── modules-2\n│   ├── 1.ts\n│   ├── 2.ts\n│   └── 3.ts\n└── vite-env.d.ts\n</code></pre>","children":[]},{"content":"<pre><code class=\"language-vue\">&lt;!-- App.vue --&gt;\n&lt;script setup lang=\"ts\"&gt;\nconst modules = import.meta.glob([\n  './modules-1/**/*.ts',\n  './modules-2/*.ts'\n], { eager: true }) as Record&lt;string, any&gt;\nconsole.log('modules:', modules)\n\n// './modules-1/**/*.ts'\n// ** 表示匹配任意子目录，它会递归地匹配所有文件。\nconst myModules: any[] = []\nObject.keys(modules).forEach((key) =&gt; {\n  myModules.push(modules[key].default)\n})\n&lt;/script&gt;\n\n&lt;template&gt;\n  &lt;h1&gt;modules&lt;/h1&gt;\n  &lt;h2&gt;{{ myModules }}&lt;/h2&gt;\n&lt;/template&gt;\n</code></pre>","children":[]}],"payload":{"lines":"347,348"}}],"payload":{"lines":"0,1"}},{"maxWidth":400,"colorFreezeLevel":2,"duration":0,"spacingVertical":20})</script>
</body>
</html>

<style>
body,
#mindmap {
  width: 1920px;
  height: 1080px;
}
</style>
